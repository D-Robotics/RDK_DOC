"use strict";(self.webpackChunkrdk_doc=self.webpackChunkrdk_doc||[]).push([[450],{19365:(e,t,o)=>{o.d(t,{A:()=>a});o(96540);var n=o(34164);const r={tabItem:"tabItem_Ymn6"};var s=o(74848);function a(e){let{children:t,hidden:o,className:a}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,n.A)(r.tabItem,a),hidden:o,children:t})}},28453:(e,t,o)=>{o.d(t,{R:()=>a,x:()=>l});var n=o(96540);const r={},s=n.createContext(r);function a(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(s.Provider,{value:t},e.children)}},49305:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>p,frontMatter:()=>l,metadata:()=>c,toc:()=>u});var n=o(74848),r=o(28453),s=o(93859),a=o(19365);const l={sidebar_position:2},i="5.1.2 apt installation and upgrade",c={id:"Robot_development/quick_start/install_tros",title:"5.1.2 apt installation and upgrade",description:"This section introduces how to use apt to install TogetheROS.Bot on RDK.",source:"@site/i18n/en/docusaurus-plugin-content-docs/current/05_Robot_development/01_quick_start/install_tros.md",sourceDirName:"05_Robot_development/01_quick_start",slug:"/Robot_development/quick_start/install_tros",permalink:"/rdk_doc/en/Robot_development/quick_start/install_tros",draft:!1,unlisted:!1,editUrl:"https://github.com/D-Robotics/rdk_doc/blob/main/docs/05_Robot_development/01_quick_start/install_tros.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"5.1.1 Environment Setup",permalink:"/rdk_doc/en/Robot_development/quick_start/preparation"},next:{title:"5.1.3 Source Code Installation",permalink:"/rdk_doc/en/Robot_development/quick_start/cross_compile"}},d={},u=[{value:"RDK",id:"rdk",level:2},{value:"Installation",id:"installation",level:3},{value:"Upgrade tros.b",id:"upgrade-trosb",level:3},{value:"Check the current version of tros.b",id:"check-the-current-version-of-trosb",level:3},{value:"X86 Platform Setup",id:"x86-platform-setup",level:2},{value:"Prerequisites:",id:"prerequisites",level:3},{value:"1. Set Locale and Enable Universe Repository",id:"1-set-locale-and-enable-universe-repository",level:3},{value:"2. Download GPG Keys and Add Source Lists",id:"2-download-gpg-keys-and-add-source-lists",level:3},{value:"3. Update Package Sources and Install <code>tros.b</code>",id:"3-update-package-sources-and-install-trosb",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h1,{id:"512-apt-installation-and-upgrade",children:"5.1.2 apt installation and upgrade"}),"\n","\n",(0,n.jsx)(t.p,{children:"This section introduces how to use apt to install TogetheROS.Bot on RDK."}),"\n",(0,n.jsx)(t.h2,{id:"rdk",children:"RDK"}),"\n",(0,n.jsx)(t.p,{children:"Prerequisites"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The environment preparation in section 1.1 has been completed."}),"\n",(0,n.jsx)(t.li,{children:"The RDK system has been installed."}),"\n",(0,n.jsx)(t.li,{children:"The RDK can access the internet normally."}),"\n",(0,n.jsx)(t.li,{children:"The RDK can be accessed remotely via SSH."}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"installation",children:"Installation"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Note: The IP address of the RDK used here is 10.64.61.241. Replace it with your IP address during installation."})}),"\n",(0,n.jsx)(t.p,{children:"Login to the RDK"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"ssh root@10.64.61.241\n"})}),"\n",(0,n.jsx)(t.p,{children:"Install the tros.b package:"}),"\n",(0,n.jsxs)(s.A,{groupId:"tros-distro",children:[(0,n.jsx)(a.A,{value:"foxy",label:"Foxy",children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo apt update\nsudo apt install tros\n"})})}),(0,n.jsx)(a.A,{value:"humble",label:"Humble",children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo apt update\nsudo apt install tros-humble\n"})})})]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsxs)(t.strong,{children:["Note: If you encounter the error ",(0,n.jsx)(t.code,{children:"E: Unmet dependencies. Try 'apt --fix-broken install' with no packages (or specify a solution).' after running the installation command, please execute the command "}),"apt --fix-broken install` to install the related dependencies before installing tros.b."]})}),"\n",(0,n.jsx)(t.p,{children:"After the installation is complete, check the files in the /opt directory"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"root@ubuntu:/userdata# ls /opt/\nhobot  tros\n"})}),"\n",(0,n.jsx)(t.p,{children:"The tros.b is installed in the /opt directory."}),"\n",(0,n.jsx)(t.h3,{id:"upgrade-trosb",children:"Upgrade tros.b"}),"\n",(0,n.jsx)(t.p,{children:"Login to RDK:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"ssh root@10.64.61.241\n"})}),"\n",(0,n.jsx)(t.p,{children:"Upgrade tros.b deb package:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-shell",children:"sudo apt update\nsudo apt upgrade\n"})}),"\n",(0,n.jsx)(t.h3,{id:"check-the-current-version-of-trosb",children:"Check the current version of tros.b"}),"\n",(0,n.jsxs)(s.A,{groupId:"tros-distro",children:[(0,n.jsxs)(a.A,{value:"foxy",label:"Foxy",children:[(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"root@ubuntu:~# apt show tros\nPackage: tros\nVersion: 2.0.0-20230523223852\nMaintainer: kairui.wang <kairui.wang@d-robotics.cc>\nInstalled-Size: unknown\nDepends: hobot-models-basic, tros-ros-base, tros-ai-msgs, tros-audio-control, tros-audio-msg, tros-audio-tracking, tros-body-tracking, tros-dnn-benchmark-example, tros-dnn-node, tros-dnn-node-example, tros-dnn-node-sample, tros-elevation-net, tros-gesture-control, tros-hand-gesture-detection, tros-hand-lmk-detection, tros-hbm-img-msgs, tros-hobot-app-xrrobot-body-tracking, tros-hobot-app-xrrobot-gesture-control, tros-hobot-codec, tros-hobot-cv, tros-hobot-falldown-detection, tros-hobot-hdmi, tros-hobot-image-publisher, tros-hobot-mot, tros-hobot-usb-cam, tros-image-subscribe-example, tros-img-msgs, tros-imu-sensor, tros-line-follower-model, tros-line-follower-perception, tros-mipi-cam, tros-mono2d-body-detection, tros-mono2d-trash-detection, tros-mono3d-indoor-detection, tros-parking-perception, tros-parking-search, tros-rgbd-sensor, tros-websocket, tros-xrrobot, tros-xrrobot-msgs\nDownload-Size: 980 B\nAPT-Manual-Installed: yes\nAPT-Sources: http://archive.d-robotics.cc/ubuntu-rdk focal/main arm64 Packages\nDescription: TogetheROS Bot\n\n"})}),(0,n.jsx)(t.p,{children:"It can be seen that the current version of tros.b has been upgraded to version 2.0.0."})]}),(0,n.jsxs)(a.A,{value:"humble",label:"Humble",children:[(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"root@ubuntu:~# apt show tros-humble\nPackage: tros-humble\nVersion: 2.2.0-jammy.20240410.221258\nPriority: optional\nSection: misc\nMaintainer: zhuo <zhuo.wang@d-robotics.cc>\nInstalled-Size: 44.0 kB\nDepends: hobot-models-basic, tros-humble-ai-msgs, tros-humble-audio-control, tros-humble-audio-msg, tros-humble-   audio-tracking, tros-humble-base, tros-humble-body-tracking, tros-humble-dnn-benchmark-example, tros-humble-dnn-   node, tros-humble-dnn-node-example, tros-humble-dnn-node-sample, tros-humble-elevation-net, tros-humble-gesture-   control, tros-humble-hand-gesture-detection, tros-humble-hand-lmk-detection, tros-humble-hbm-img-msgs, tros-humb   le-hobot-audio, tros-humble-hobot-chatbot, tros-humble-hobot-codec, tros-humble-hobot-cv, tros-humble-hobot-fall   down-detection, tros-humble-hobot-hdmi, tros-humble-hobot-image-publisher, tros-humble-hobot-llm, tros-humble-ho   bot-mot, tros-humble-hobot-shm, tros-humble-hobot-tts, tros-humble-hobot-usb-cam, tros-humble-hobot-vio, tros-hu   mble-hobot-visualization, tros-humble-img-msgs, tros-humble-imu-sensor, tros-humble-line-follower-model, tros-hu   mble-line-follower-perception, tros-humble-mipi-cam, tros-humble-mono2d-body-detection, tros-humble-mono2d-trash   -detection, tros-humble-mono3d-indoor-detection, tros-humble-parking-perception, tros-humble-parking-search, tro   s-humble-rgbd-sensor, tros-humble-websocket, tros-humble-ros-workspace\nDownload-Size: 5,546 B\nAPT-Manual-Installed: yes\nAPT-Sources: http://archive.d-robotics.cc/ubuntu-rdk jammy/main arm64 Packages\nDescription: TogetheROS Bot\n\n"})}),(0,n.jsx)(t.p,{children:"It can be seen that the current version of tros.b has been upgraded to version 2.2.0."})]})]}),"\n",(0,n.jsx)(t.h2,{id:"x86-platform-setup",children:"X86 Platform Setup"}),"\n",(0,n.jsx)(t.h3,{id:"prerequisites",children:"Prerequisites:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Completed the environment preparation as described in Section 2.1."}),"\n",(0,n.jsx)(t.li,{children:"The system is Ubuntu 20.04 with active internet access."}),"\n"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h3,{id:"1-set-locale-and-enable-universe-repository",children:"1. Set Locale and Enable Universe Repository"}),"\n",(0,n.jsx)(t.p,{children:"Run the following commands to configure the locale and enable the universe software repository:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo apt update && sudo apt install locales\nsudo locale-gen en_US en_US.UTF-8\nsudo update-locale LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8\nexport LANG=en_US.UTF-8\n\nsudo apt install software-properties-common\nsudo add-apt-repository universe\n"})}),"\n",(0,n.jsx)(t.h3,{id:"2-download-gpg-keys-and-add-source-lists",children:"2. Download GPG Keys and Add Source Lists"}),"\n",(0,n.jsx)(t.p,{children:"Run the following commands to download the required GPG keys and add the appropriate source lists:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'sudo apt update && sudo apt install curl\n\nsudo curl -sSL http://archive.d-robotics.cc/keys/sunrise.gpg -o /usr/share/keyrings/sunrise.gpg\necho "deb [arch=amd64 signed-by=/usr/share/keyrings/sunrise.gpg] http://archive.d-robotics.cc/ubuntu-rdk-sim focal main" | sudo tee /etc/apt/sources.list.d/sunrise.list > /dev/null\n\nsudo curl -sSL https://raw.githubusercontent.com/ros/rosdistro/master/ros.key -o /usr/share/keyrings/ros-archive-keyring.gpg\necho "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/ros-archive-keyring.gpg] http://packages.ros.org/ros2/ubuntu $(. /etc/os-release && echo $UBUNTU_CODENAME) main" | sudo tee /etc/apt/sources.list.d/ros2.list > /dev/null\n'})}),"\n",(0,n.jsxs)(t.h3,{id:"3-update-package-sources-and-install-trosb",children:["3. Update Package Sources and Install ",(0,n.jsx)(t.code,{children:"tros.b"})]}),"\n",(0,n.jsxs)(t.p,{children:["Run the commands below to update package sources and install the ",(0,n.jsx)(t.code,{children:"tros.b"})," package:"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:"sudo apt update\nsudo apt install tros\n"})}),"\n",(0,n.jsx)(t.admonition,{type:"caution",children:(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsxs)(t.strong,{children:["If your X86 platform already has ",(0,n.jsx)(t.code,{children:"tros.b"})," version 1.x installed, please use the command ",(0,n.jsx)(t.code,{children:"sudo apt remove tros"})," to uninstall it before installing ",(0,n.jsx)(t.code,{children:"tros.b"})," version 2.x."]})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsxs)(t.strong,{children:["For details on how to check the version of ",(0,n.jsx)(t.code,{children:"tros.b"}),", refer to the ",(0,n.jsx)(t.a,{href:"/docs/08_FAQ/03_applications_and_examples.md",children:"FAQs"}),"."]})}),"\n"]})})]})}function p(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},93859:(e,t,o)=>{o.d(t,{A:()=>y});var n=o(96540),r=o(34164),s=o(86641),a=o(56347),l=o(205),i=o(38874),c=o(24035),d=o(82993);function u(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:o}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:o,attributes:n,default:r}}=e;return{value:t,label:o,attributes:n,default:r}}))}(o);return function(e){const t=(0,c.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,o])}function p(e){let{value:t,tabValues:o}=e;return o.some((e=>e.value===t))}function b(e){let{queryString:t=!1,groupId:o}=e;const r=(0,a.W6)(),s=function(e){let{queryString:t=!1,groupId:o}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!o)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return o??null}({queryString:t,groupId:o});return[(0,i.aZ)(s),(0,n.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(r.location.search);t.set(s,e),r.replace({...r.location,search:t.toString()})}),[s,r])]}function m(e){const{defaultValue:t,queryString:o=!1,groupId:r}=e,s=h(e),[a,i]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:o}=e;if(0===o.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:o}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${o.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=o.find((e=>e.default))??o[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s}))),[c,u]=b({queryString:o,groupId:r}),[m,g]=function(e){let{groupId:t}=e;const o=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,s]=(0,d.Dv)(o);return[r,(0,n.useCallback)((e=>{o&&s.set(e)}),[o,s])]}({groupId:r}),x=(()=>{const e=c??m;return p({value:e,tabValues:s})?e:null})();(0,l.A)((()=>{x&&i(x)}),[x]);return{selectedValue:a,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),g(e)}),[u,g,s]),tabValues:s}}var g=o(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=o(74848);function f(e){let{className:t,block:o,selectedValue:n,selectValue:a,tabValues:l}=e;const i=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),d=e=>{const t=e.currentTarget,o=i.indexOf(t),r=l[o].value;r!==n&&(c(t),a(r))},u=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const o=i.indexOf(e.currentTarget)+1;t=i[o]??i[0];break}case"ArrowLeft":{const o=i.indexOf(e.currentTarget)-1;t=i[o]??i[i.length-1];break}}t?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":o},t),children:l.map((e=>{let{value:t,label:o,attributes:s}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>i.push(e),onKeyDown:u,onClick:d,...s,className:(0,r.A)("tabs__item",x.tabItem,s?.className,{"tabs__item--active":n===t}),children:o??t},t)}))})}function j(e){let{lazy:t,children:o,selectedValue:r}=e;const s=(Array.isArray(o)?o:[o]).filter(Boolean);if(t){const e=s.find((e=>e.props.value===r));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==r})))})}function k(e){const t=m(e);return(0,v.jsxs)("div",{className:(0,r.A)("tabs-container",x.tabList),children:[(0,v.jsx)(f,{...t,...e}),(0,v.jsx)(j,{...t,...e})]})}function y(e){const t=(0,g.A)();return(0,v.jsx)(k,{...e,children:u(e.children)},String(t))}}}]);